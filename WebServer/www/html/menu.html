<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    {{ import 'html/index.html' 'header' }}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <link href="../css/bootstrap-treeview.min.css" rel="stylesheet" />
</head>
<body>
    {{ import 'html/modals.html' 'categoryModal' }}
    {{ import 'html/modals.html' 'addFoodModal' }}
    {{ import 'html/index.html' 'navbar' }}
    <div class="container-fluid">
        <div class="row justify-content-md-center">
            <div class="col-md-1">
                <button type="button" id="add-category" data-toggle="modal" data-target="#categoryModal"  class="btn btn-primary">Přidat kategorii</button>
            </div>
            <div class="col-md-1">
                <!--
                    I have initiate with javascript, since I have to check for selected node
                    data-toggle="modal" data-target="#addFoodModal" -->
                <button type="button" id="add-food" class="btn btn-info">Přidat jídlo</button>
            </div>
            <div class="col-md-1">
                <button type="button" id="remove" class="btn btn-danger">Smazat</button>
            </div>
        </div>
        <div class="row">
            <div class="col-md">
                <div id="tree-container">
                    <div id="tree"></div>
                </div>
            </div>
        </div>
    </div>
    {{ import 'html/index.html' 'scripts' }}
    <script src="../js/bootstrap-treeview.min.js"></script>
    <script type="text/javascript">
        $.getJSON("http://localhost:1234/api/getMenuData", (result) => {
            console.log(result);
        });

        var myData = [
            {
                text: "Item 1",
                href: "#parent1",
                tags: ['4']
            },
            {
                text: "Item 2"
            },
            {
                text: "Item 3",
                nodes: [
                    {
                        text: "Item 3-1",
                        nodes: [
                            {
                                text: "Item 3-2-1",
                                nodes: [
                                    {
                                        text: "Item 3-2-1-1"
                                    }
                                ]
                            },
                            {
                                text: "Item 3-2-2"
                            }
                        ]
                    },
                    {
                        text: "Item 3-2"
                    }
                ]
            }
        ];

        $("#tree").treeview({
            levels: 2,
            data: myData,
            expandIcon: 'fa fa-angle-right',
            collapseIcon: 'fa fa-angle-down',
            emptyIcon: 'fa',
            showIcon: true

        });

        $('#tree').treeview('checkAll', { silent: true });
        $("#add-food").click(() => { $("#addFoodModal").modal();  })


    </script>
    <script src="../js/TreeviewEdit.js"></script>
    <script src="../js/form-validation.js"></script>
</body>
</html>
